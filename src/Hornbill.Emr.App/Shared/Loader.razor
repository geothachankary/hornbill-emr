@using Hornbill.Emr.App.Services.Loader
@inject LoaderService LoaderService

@if (IsVisible)
{
    <div class="position-relative">
        <div class="position-absolute top-50 start-50 translate-middle">
            <div class="loader-wave">
                <div class="loader-rect loader-rect1"></div>
                <div class="loader-rect loader-rect2"></div>
                <div class="loader-rect loader-rect3"></div>
                <div class="loader-rect loader-rect4"></div>
                <div class="loader-rect loader-rect5"></div>
            </div>
            <div class="h3 text-center">
                <strong>Loading...</strong>
            </div>
        </div>
    </div>

}
@code
{
    protected bool IsVisible { get; set; }
 
    protected override void OnInitialized()
    {
        LoaderService.OnShow += ShowLoader;
        LoaderService.OnHide += HideLoader;
    }

    public void ShowLoader()
    {
        IsVisible = true;
        StateHasChanged();
    }

    public void HideLoader()
    {
        IsVisible = false;
        StateHasChanged();
    }
}
